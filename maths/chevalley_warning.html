<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <link rel="stylesheet" type="text/css" href="math_style.css">
        <title>Chevalley–Warning theorem</title>

        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async
                src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
        </script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script>
            window.MathJax = {
                tex: {
                    macros: {
                    RR: '{\\bf R}',
                    ZZ: '{\\bf Z}',
                    char: '{\\rm{Char}}',
                    sep: '{\\,.\\,}',
                    }
                },
                chtml: {
                    displayAlign: 'left',
                    displayIndent: '7em'
                }
            };
        </script>
    </head>

    <body>
        <h1>Chevalley–Warning theorem</h1>

        <h3>Notation</h3>
        The symbols \(k\) and \(n\) represent natural numbers, \(p\) represents a prime number and \(q\) a power of a prime number \(p\).
        <span class="br"></span>
        With \(K\) we denote a finite field of size \(q\) and characteristic \(p\). The characteristic \(\char(K)\) denotes the smallest \(n\) for which \(n\cdot 1 = 0\) in \(K\). Finite fields can not come in sizes other than powers of \(p\) and fields of the same size are isomorphic.
        <span class="br"></span>
        The vanishing set, the set of common zeroes of \(f_1,\ldots, f_k\) is defined as
        \[
            V_{K^n}(f_1,\ldots,f_k) = \{x\in K^n\mid \forall j\sep f_j(x)=0\} \subseteq K^n
        \]
        <span class="br"></span>
        We also use \(X\vdash Y\) to mean "given X, then Y" to specify context.

        <h3>Chevalley–Warning theorem</h3>
        I will be heavily relying on Serre's A course in arithmetic.
        <h4>Statement</h4>
         Consider a family of \(k\) polynomials in \(n\) variables, \(f_j\in K[X_1,\ldots, X_n]\), such that \(\sum_{j=1}^k\deg f_j < n\). Then
        \[
            \lvert V_{K^n}(f_1,\ldots,f_k) \rvert \equiv 0 \pmod p
        \]
        <h4>Example</h4> The simplest interesting example would be linear forms. Consider a (family of one) linear form
        \[
            a_j\in K\vdash f = \sum_{j=1}^n a_j x_j.
        \]
        The degree of the form is 1 therefore, to satisfy the theorem, we require \(n>1\). In that case
        \[
        \lvert V_{K^n}(f) \rvert \equiv 0 \pmod p.
        \]
        However we already know of one solution to the equation, the element 0. This implies that there's at least one other solution since \(1\not\equiv 0\) for any \(p\). The equation \(x+y=0\) in \(Z_2\), for instance has the solutions \(x=y=0\) and \(x=y=1\). We could also generalise the example: quadratic forms of at least 3 variables have a nontrivial zero and \(n\)-forms of at least \(n+1\) variables have a nontrivial zero.
        <h4>Exercise</h4> Prove that any element of a finite field is a sum of two squares.
        <h4>Proof</h4> To prove the theorem we're going to need two lemmas. First lemma is needed to prove the second one. Second one talks about the result of adding up all values in the field and will be used in the main proof. The idea of the main proof is to use indicator functions as a counter of zeroes. The function will be 1 on points that vanish and 0 otherwise. Then we just add up all values using the second lemma, in the domain of the indicator function, which will be the cardinality of the vanishing set.
        <p>
        First lemma is that \(K^*\), the group of \(K\setminus\{0\}\) under multiplication forms a <i>cyclic</i> group of order \(q-1\). We will not prove this lemma. Unfolding the definition, this means that for any \(x\in K^*\) we obtain \(x^{q-1} = 1\) and \(q-1\) is the lowest positive number for which this holds. This means that the only other numbers with this property are the multiples of \(q-1\).</p>
        <p>
        Second lemma is more interesting. It is an easy way to determine the value of sums of elements (or their powers) of a field. We use the notation
        \[
            S_K(f) = \sum_{x\in K} f(x).
        \]
        As a shorthand we write \(S_K(x^n)\) when \(f(x)=x^n\).</p>
        <theorem>The sum \(S_K(x^n)=-1\) if \(q-1\) divides \(n>0\) and \(S_K(x^n)=0\) otherwise.</theorem>
        <proof>
            If \(n=0\) then the function is \(S_K(x^0) = S_K(1) = \lvert K\rvert \cdot 1 = q\). Since \(\char K = p\) (and \(q\) is a power of \(p\)), \(S_K(x^0)=0\).
            <p>
            The second case is when \(n>0\) and \(q-1\) divides \(n\). Of course \(0^n=0\). For nonzero elements we use the lemma. We can rewrite the power \(x^n = x^{(q-1)\cdot k}\) for some \(k\). The nonzero elements form a multiplicative group of order \(q-1\), therefore \(x^{q-1}=1\) and \(1^k = 1\). As the finite field has \(q-1\) nonzero elements we obtain \(S_K(x^n) = 0 + (q-1)\cdot 1 = q-1 \equiv -1\).
            </p>
            <p>
            The remaining case is when \(n>0\) and <i>not</i> divisible by \(q-1\). Again \(0^n=0\) and for the other elements we use the lemma from earlier, but this time we use the "lowest" part of the definition of order. Since \(n\) is not a multiple of the order, there exists a nonzero \(y\) for which \(y^n \neq 1\). But because the elements of groups are, by definition, invertible, we can write any element of \(K^*\) as \(yx\) (simply by substituting a desired \(x\) with \(y^{-1}x\)). Unfolding this result yields the following:
            \[
                S_K(x^n) = 0 + \sum_{K^*} x^n = \sum_{K^*} y^n x^n = y^n S_K(x^n).
            \]
            or 
            \[
            S_K(x^n) = y^n S_K(x^n)
            \]
            Factoring out the sum gives us \((1-y^n)S_K(x^n)=0\). But because \(y^n\neq 1\) we obtain \(S_K(x^n) = 0\).
            </p>
        </proof>
        Now we are ready to tackle the main theorem.
        <p>
            Let \(f_j\in K[X_1,\ldots,X_n]\) be a family of \(k\) polynomials with \(\sum_{j=1}^k \deg f_j < n\), as in the statement of the theorem. We construct an indicator function \(P\) which will be \(1\) for points that vanish in all \(f_j\) and 0 elsewhere. Using the first lemma we see that \(0^{q-1}=0\) and \(x^{q-1}=1\) for any \(x\in K^*\). Therefore
            \[
                P = \prod_{j=1}^k (1-f_j^{q-1})
            \]
            and counting all vanishing points becomes summing values mapped by \(P\) - exactly the definition of \(S_{K^n}(P)\), with a small caveat; as we are adding up values \(1\in K\) (not \(\ZZ\)), \(p\equiv 0\) so we are counting modulo \(p\).
            \[
            \lvert V_{K^n}(f_1,\ldots,f_k) \rvert \equiv S_{K^n}(P) \pmod p
            \] 
            To prove the theorem we have to prove \(S_{K^n}(P) \equiv 0\).
        </p>
        <p>
            The leading term of \(P\) will be the leading term of every \(f_j^{q-1}\) multiplied together. Because \(\deg(f_j^{q-1})=(q-1)\deg(f_j)\), \(\deg(P)= \sum_{j=1}^k \deg(f_j^{q-1})\), and the hypothesis \(\sum_{j=1}^k\deg f_j < n\), we see that \(\deg P < (q-1)\cdot n\). Then \(P\) is a linear combination of monomials
            \[
                x_1^{u_{1}}\cdots x_n^{u_n}
            \]
            with \(\sum_{j=1}^n u_{j} < (q-1)\cdot n\). This restriction on \(u\) guarantees that in each term of \(P\) there exists at least one \(u_j< q-1\) and it can't possibly be divisible by \(q-1\). 
        </p>
        <p>
            We inspect individual terms of \(P\) in \(S_{K^n}(P)\) and obtain a nested sum.
            \[
                S_{K^n}(a x_1^{u_1}\cdots x_n^{u_n}) = a\sum_{x_1\in K}x_1^{u_1}\sum_{x_2\in K}x_2^{u_2}\cdots \sum_{x_n\in K} x_n^{u_n}
            \]
            which equals
            \[
                a\sum_{x_1\in K}x_1^{u_1}\sum_{x_2\in K}x_2^{u_2}\cdots \sum_{x_{n-1}\in K} x_{n-1}^{u_{n-1}} \cdot S_K(x^{u_n})
            \]
            Knowing one \(u_j < q-1\) we can, without loss of generality, assume that \(u_n < q-1\). But by the second lemma \(S_K(x^{u_n})=0\), as \(u_n\) doesn't divide \(q-1\). Therefore the entire nested sum will be equal to zero, meaning each monomial of \(P\) is mapped zero by \(S_{K^n}\). Combining monomials we see that \(S_{K^n} = 0\) which proves the statement
        </p>
        <!--                    -----------                        -->
        <h3>Warning's second theorem</h3>
        For the proof see <a href="https://webpages.scu.edu/ftp/sasgarli/WST.pdf">https://webpages.scu.edu/ftp/sasgarli/WST.pdf</a>
        <h4>Statement</h4>
        Consider a family of \(k\) polynomials in \(n\) variables, \(f_j\in K[X_1,\ldots, X_n]\), such that \(d = \sum_{j=1}^k\deg f_j < n\). Then either \(V_{K^n}(f_1,\ldots,f_k) = \emptyset\) or
        \[
            \lvert V_{K^n}(f_1,\ldots,f_k) \rvert \geq q^{n-d}
        \]
        <h4>Example</h4> Let's examine the example from before again. Consider a linear form in \(n\) variables over a finite field of size \(q\). Then \(\lvert V_{K^n}(f) \rvert \geq q^{n-1}\). We already know that \(f(0)=0\) and, by the Chevalley–Warning theorem, we know the form also has at least \(p-1\) other zeroes. If \(q=p\) (and not a power of \(p\)) and the number of variables \(n=2\), we learn nothing new. However for any other values \(n>2\) or \(q=p^k\), Warning's second theorem <i>greatly</i> increases the amount of solutions to the linear form. Same example, of course, extends to polynomials of higher degree.
        <h3>Chevalley theorem</h3>
        <h4>Statement</h4>
        Consider a family of \(k\) polynomials in \(n\) variables, \(f_j\in K[X_1,\ldots, X_n]\), such that \(\sum_{j=1}^k\deg f_j < n\) and \(f_j(0)=0\) (they have no constant term). Then there is also a non-trivial common solution.
        <h4>Proof</h4> Follows trivially from either Warning's theorem.
        <!--
        <h4>Fields of powers</h4>
        If \(K\) is a finite field with \(\char(K) = p\), then \(K^p = \{x^p \mid x\in K\}\) is its subfield induced by the isomorphism \(\sigma: x\mapsto x^p\).

        <label>  Proof that \(\sigma\) is an isomorphism <input type="checkbox"/> 
            <span>This is indeed a homomorphism because \((xy)^p = x^py^p\) and, since \(p\) is a prime number, \(\binom{p}{k}\equiv 0 \pmod p\) for all \(0 < k < p\). That's easily seen by its formula
            \[
                \binom{p}{k} = \frac{p!}{k!(p-k)!}.
            \]
            Because the factors in the denominator are strictly smaller than \(p\), they can not divide out the \(p\) from the numerator. This way, \((x+y)^p = x^p + y^p\) by binomial theorem. It is also injective, because \(x^p=0\) means \(x=0\) as fields have no zero divisors, therefore the kernel is trivial.</span> 
        </label>
    
        <h4>Number of elements in a field</h4>
        
        <label>  If \(\char(K)=p\) and \(f = [K:F_p]\) then the number of elements of \(K\) is \(q=p^f\). <input type="checkbox"/> 
            <span>
                We see that \(F_p\) is a subfield of \(K\), as the image of \(Z\). The degree of the extension is denoted as \(f = [K:F_p]\). View \(K\) as a \(F_p\)-vector space, which has a dimension of size \(f\). Let \(v_1,\ldots,v_f\) be its basis vectors and \(a_j\) scalars from \(F_p\). 
                \[
                    \sum_{j=1}^f a_j v_j
                \]
                creates distinct elements of \(K\) for every choice of scalars by linear independence and generates every element of \(K\). There are \(f\) possible choices for each of the \(p\) instances of \(a_j\), meaning there are \(p^f\) possible choices for \((a_1,\ldots,a_f)\). So the cardinality of \(K\) is \(p^f\). 
            </span> 
        </label>
        A similar converse statement also holds
                
        <label>  If a finite field has \(q=p^f\) elements, then it is isomorphic to \(F_q\). <input type="checkbox"/> 
            <span>
                First we prove a lemma. Let \(p\) be a prime, \(q=p^f\), and \(\Omega\) an algebraically closed field of characteristic \(p\). Then there exists a unique subfield \(F_q\subseteq \Omega\) with \(q\) elements. The field is the field of roots of polynomial \(X^q-X\).<br>
                We know that \(x\mapsto x^p\) is an automorphism. We can similarly construct an automorphism \(x\mapsto x^q\) by composing the previous automorphism \(f\) times. 
            </span> 
        </label>

        We define \(S(X^u) = \sum_{x\in K} x^u\) for \(u\geq0\) and q field \(K\) of cardinality \(q\)
        <h3>Chevalley–Warning theorem</h3>
        <h4>Statement</h4>
        Let \(K\) be a finite field of size \(q=p^f\). Consider a family of \(k\) polynomials in \(n\) variables, \(f_j\in K[X_1,\ldots, X_n]\), such that \(\sum_{j=1}^k\deg f_j < n\). Then
        \[
            \lvert V_{K^n}(f_1,\ldots,f_k) \rvert \equiv 0 \pmod p
        \]
        <h3>Warning's second theorem</h3>
        <h4>Statement</h4>
        Let \(K\) be a finite field of size \(q=p^f\). Consider a family of \(k\) polynomials in \(n\) variables, \(f_j\in K[X_1,\ldots, X_n]\), such that \(d = \sum_{j=1}^k\deg f_j < n\). Then either \(V_{K^n}(f_1,\ldots,f_k) = \emptyset\) or
        \[
            \lvert V_{K^n}(f_1,\ldots,f_k) \rvert \geq q^{n-d}
        \]
        <h3>Chevalley theorem</h3>
        <h4>Statement</h4>
        Let \(K\) be a finite field of size \(q=p^f\). Consider a family of \(k\) polynomials in \(n\) variables, \(f_j\in K[X_1,\ldots, X_n]\), such that \(\sum_{j=1}^k\deg f_j < n\) and \(f_j(0)=0\) (they have no constant term). Then there is also a non-trivial common solution.
        <h3>References</h3>

        delanje menujev
        <label> The sum \(S_K(x^n)=-1\) if \(q-1\) divides \(n\) and \(S_K(x^n)=0\) otherwise. <input type="checkbox"/> 
            <span>
                If \(n=0\) then the function is \(S_K(x^0) = S_K(1) = \lvert K\rvert \cdot 1 = q\). Since \(\char K = p\) (and \(q\) is a power of \(p\)), \(S_K(x^0)=0\).
                <br>
                The second case is when \(n>0\) and \(q-1\) divides \(n\). Of course \(0^n=0\). For any other element, that's not the case. By divisibility \(x^n = x^{(q-1)\cdot k}\) for some k. 
            </span>
        </label>
        -->
    </body>
</html>
